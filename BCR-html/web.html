<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTubeè§†é¢‘åˆ†æåŠ©æ‰‹</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // çº¢ç™½æ©™é»„è‰²ç³»
                        warm: {
                            white: '#FFF8F5',      // æš–ç™½è‰²ï¼ˆæ›¿ä»£çº¯ç™½ï¼‰
                            cream: '#FFF1E0',     // å¥¶æ²¹è‰²
                            peach: '#FFE0CC',     // æ¡ƒè‰²
                            orange: '#FFB380',    // æ©™è‰²
                            coral: '#FF8A5C',     // çŠç‘šè‰²
                            red: '#FF5A36',       // çº¢è‰²
                            amber: '#FFC857',     // ç¥ç€é»„
                            gold: '#E6B325',      // é‡‘è‰²
                        }
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
            .bg-gradient-warm {
                background: linear-gradient(135deg, #FFF1E0 0%, #FFE0CC 50%, #e69864 100%);
            }
            .bg-gradient-ai {
                background: linear-gradient(135deg, #fcd4c3 0%, #f9c09b 50%, #fda468 100%);
            }
            .text-gradient {
                background-clip: text;
                -webkit-background-clip: text;
                color: transparent;
                background-image: linear-gradient(135deg, #FF5A36 0%, #FF8A5C 50%, #FFB380 100%);
            }
            .animate-pulse-soft {
                animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
            }
        }
    </style>
</head>
<body class="font-inter bg-warm-white text-gray-800 min-h-screen flex flex-col">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header class="bg-white/90 backdrop-blur-md shadow-sm sticky top-0 z-50 transition-all duration-300">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center space-x-2">
                <i class="fa fa-youtube-play text-warm-red text-2xl"></i>
                <h1 class="text-xl font-bold text-gradient">è§†é¢‘åˆ†æåŠ©æ‰‹</h1>
            </div>
            <nav>
                <ul class="flex space-x-6">
                    <li><a href="#" class="text-gray-600 hover:text-warm-red transition-colors">é¦–é¡µ</a></li>
                    <li><a href="#" class="text-gray-600 hover:text-warm-red transition-colors">åˆ†æ</a></li>
                    <li><a href="#" class="text-gray-600 hover:text-warm-red transition-colors">å»ºè®®</a></li>
                    <li><a href="#" class="text-gray-600 hover:text-warm-red transition-colors">å¸®åŠ©</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- ä¸»å†…å®¹åŒº -->
    <main class="flex-grow container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- å·¦ä¾§åˆ†ç±» -->
            <div class="lg:col-span-1">
                <div class="bg-white/90 backdrop-blur-sm rounded-xl shadow-sm p-6 sticky top-24 transition-all hover:shadow-md">
                    <h2 class="text-lg font-semibold mb-4 flex items-center">
                        <i class="fa fa-folder-open text-warm-red mr-2"></i>
                        è§†é¢‘åˆ†ç±»
                    </h2>
                    <ul class="space-y-2">
                        <li><button class="category-btn w-full text-left py-2 px-4 rounded-lg hover:bg-warm-peach/30 transition-colors active" data-category="sports">
                            <i class="fa fa-futbol-o text-warm-red mr-2"></i> ä½“è‚²è¿åŠ¨
                        </button></li>
                        <li><button class="category-btn w-full text-left py-2 px-4 rounded-lg hover:bg-warm-peach/30 transition-colors" data-category="education">
                            <i class="fa fa-book text-warm-red mr-2"></i> æ•™è‚²å­¦ä¹ 
                        </button></li>
                        <li><button class="category-btn w-full text-left py-2 px-4 rounded-lg hover:bg-warm-peach/30 transition-colors" data-category="music">
                            <i class="fa fa-music text-warm-red mr-2"></i> éŸ³ä¹å¨±ä¹
                        </button></li>
                        <li><button class="category-btn w-full text-left py-2 px-4 rounded-lg hover:bg-warm-peach/30 transition-colors" data-category="gaming">
                            <i class="fa fa-gamepad text-warm-red mr-2"></i> æ¸¸æˆç”µç«
                        </button></li>
                        <li><button class="category-btn w-full text-left py-2 px-4 rounded-lg hover:bg-warm-peach/30 transition-colors" data-category="lifestyle">
                            <i class="fa fa-coffee text-warm-red mr-2"></i> ç”Ÿæ´»æ–¹å¼
                        </button></li>
                        <li><button class="category-btn w-full text-left py-2 px-4 rounded-lg hover:bg-warm-peach/30 transition-colors" data-category="tech">
                            <i class="fa fa-laptop text-warm-red mr-2"></i> ç§‘æŠ€æ•°ç 
                        </button></li>
                    </ul>
                </div>
            </div>

            <!-- å³ä¾§å†…å®¹ -->
            <div class="lg:col-span-2">
                <!-- åˆ†ææŠ¥å‘Šå¡ç‰‡ -->
                <div class="bg-white/90 backdrop-blur-sm rounded-xl shadow-sm p-6 mb-6 transition-all hover:shadow-md">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-xl font-bold text-gradient" id="reportTitle">ä½“è‚²è¿åŠ¨åˆ†ææŠ¥å‘Š</h2>
                        <span class="bg-warm-peach/30 text-warm-red px-3 py-1 rounded-full text-sm">
                            <i class="fa fa-refresh mr-1"></i> å®æ—¶åˆ†æ
                        </span>
                    </div>
                    
                    <!-- æ•°æ®æ¦‚è§ˆ -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                        <div class="bg-warm-peach/20 rounded-lg p-4 transition-all hover:shadow-sm transform hover:-translate-y-1 duration-300">
                            <p class="text-sm text-gray-500 mb-1">å¹³å‡è§‚çœ‹é‡</p>
                            <p class="text-2xl font-bold text-warm-red">1.2M</p>
                            <p class="text-xs text-green-600 mt-1">
                                <i class="fa fa-arrow-up"></i> è¾ƒä¸Šæœˆå¢é•¿ 12%
                            </p>
                        </div>
                        <div class="bg-warm-cream/30 rounded-lg p-4 transition-all hover:shadow-sm transform hover:-translate-y-1 duration-300">
                            <p class="text-sm text-gray-500 mb-1">å¹³å‡æ—¶é•¿</p>
                            <p class="text-2xl font-bold text-warm-red">8.5min</p>
                            <p class="text-xs text-green-600 mt-1">
                                <i class="fa fa-arrow-up"></i> è¾ƒä¸Šæœˆå¢é•¿ 3%
                            </p>
                        </div>
                        <div class="bg-warm-orange/20 rounded-lg p-4 transition-all hover:shadow-sm transform hover:-translate-y-1 duration-300">
                            <p class="text-sm text-gray-500 mb-1">è§‚çœ‹å®Œæˆç‡</p>
                            <p class="text-2xl font-bold text-warm-red">92%</p>
                            <p class="text-xs text-red-500 mt-1">
                                <i class="fa fa-arrow-down"></i> è¾ƒä¸Šæœˆä¸‹é™ 2%
                            </p>
                        </div>
                        <div class="bg-warm-amber/20 rounded-lg p-4 transition-all hover:shadow-sm transform hover:-translate-y-1 duration-300">
                            <p class="text-sm text-gray-500 mb-1">å¹³å‡ç‚¹èµ</p>
                            <p class="text-2xl font-bold text-warm-red">15.2K</p>
                            <p class="text-xs text-green-600 mt-1">
                                <i class="fa fa-arrow-up"></i> è¾ƒä¸Šæœˆå¢é•¿ 8%
                            </p>
                        </div>
                    </div>
                    
                    <!-- å›¾è¡¨ -->
                    <div class="bg-warm-cream/30 rounded-lg p-4 mb-6 transition-all hover:shadow-sm">
                        <h3 class="text-md font-semibold mb-3 text-warm-red">è§‚çœ‹é‡è¶‹åŠ¿</h3>
                        <div class="h-64 bg-white/80 rounded-lg p-4 flex items-center justify-center border border-warm-peach/30">
                            <p class="text-gray-400">ğŸ“Š å›¾è¡¨å°†åœ¨è¿™é‡Œæ˜¾ç¤º</p>
                        </div>
                    </div>
                    
                    <!-- æ´å¯Ÿ -->
                    <div class="bg-gradient-warm rounded-lg p-4 border border-white/50">
                        <h3 class="text-md font-semibold mb-2 flex items-center">
                            <i class="fa fa-lightbulb-o text-warm-red mr-2"></i> æ•°æ®æ´å¯Ÿ
                        </h3>
                        <p class="text-gray-700">ä½“è‚²ç±»è§†é¢‘åœ¨å‘¨æœ«çš„è§‚çœ‹é‡æ¯”å·¥ä½œæ—¥é«˜å‡º35%ï¼Œå»ºè®®åœ¨å‘¨äº”-å‘¨æ—¥å‘å¸ƒé‡è¦å†…å®¹ã€‚åŒæ—¶ï¼Œè§†é¢‘æ—¶é•¿æ§åˆ¶åœ¨8-12åˆ†é’Ÿä¹‹é—´å¯è·å¾—æœ€ä½³è§‚çœ‹ä½“éªŒã€‚</p>
                    </div>
                </div>
                
                <!-- æ˜Ÿç«AIåŠ©æ‰‹å¡ç‰‡ -->
                <div class="bg-white/90 backdrop-blur-sm rounded-xl shadow-sm p-6 transition-all hover:shadow-md overflow-hidden relative">
                    <!-- è£…é¥°å…ƒç´  -->
                    <div class="absolute -right-10 -top-10 w-40 h-40 bg-warm-orange/10 rounded-full blur-3xl"></div>
                    <div class="absolute -left-10 -bottom-10 w-40 h-40 bg-warm-red/5 rounded-full blur-3xl"></div>
                    
                    <div class="flex items-center mb-4 relative z-10">
                        <div class="w-12 h-12 rounded-full bg-gradient-ai flex items-center justify-center text-warm-red shadow-md animate-pulse-soft">
                            <i class="fa fa-robot text-xl"></i>
                        </div>
                        <h2 class="text-2xl font-bold ml-3 text-gradient">AI analysis assistant</h2>
                    </div>
                    
                    <!-- å¯¹è¯åŒºåŸŸ -->
                    <div id="chatContainer" class="bg-gradient-ai rounded-xl p-4 h-[400px] overflow-y-auto scrollbar-hide mb-4 relative z-10">
                        <div class="mb-4">
                            <div class="flex items-start">
                                <div class="w-10 h-10 rounded-full bg-gradient-ai flex items-center justify-center text-warm-red mr-2 shadow-sm">
                                    <i class="fa fa-robot"></i>
                                </div>
                                <div class="bg-white/90 backdrop-blur-sm rounded-lg p-3 shadow-sm max-w-[90%]">
                                    <p class="text-gray-700">Hello! I'm your AI video analysis assistant. I can help you analyze video data, provide optimization suggestions, and answer questions. Is there anything I can do for you?</p>
                                </div>
                            </div>
                        </div>
                        <!-- å¯¹è¯å†…å®¹å°†åœ¨è¿™é‡ŒåŠ¨æ€æ·»åŠ  -->
                    </div>
                    
                    <!-- è¾“å…¥åŒºåŸŸ -->
                    <div class="flex gap-3 relative z-10">
                        <input 
                            type="text" 
                            id="userInput" 
                            placeholder="Input a question, for example: Analyze my video data" 
                            class="flex-1 px-4 py-3 rounded-lg bg-white/90 backdrop-blur-sm border border-warm-peach/30 focus:outline-none focus:ring-2 focus:ring-warm-red/30 focus:border-warm-red transition-all"
                        >
                        <button 
                            id="sendButton" 
                            class="bg-gradient-ai text-warm-red px-6 py-3 rounded-lg hover:shadow-lg hover:shadow-warm-orange/20 transition-all flex items-center font-medium"
                        >
                            <i class="fa fa-paper-plane mr-2"></i> Send Question
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- é¡µè„š -->
    <footer class="bg-warm-cream/50 text-gray-700 py-8 mt-12 border-t border-warm-peach/30">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-4 text-gradient">è§†é¢‘åˆ†æåŠ©æ‰‹</h3>
                    <p class="text-gray-600">ä½¿ç”¨AIæŠ€æœ¯å¸®åŠ©ä½ ä¼˜åŒ–YouTubeè§†é¢‘å†…å®¹ï¼Œæé«˜è§‚çœ‹é‡å’Œäº’åŠ¨ç‡ã€‚</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">å¿«é€Ÿé“¾æ¥</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-600 hover:text-warm-red transition-colors">é¦–é¡µ</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-warm-red transition-colors">åˆ†æå·¥å…·</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-warm-red transition-colors">å¸®åŠ©ä¸­å¿ƒ</a></li>
                        <li><a href="#" class="text-gray-600 hover:text-warm-red transition-colors">è”ç³»æˆ‘ä»¬</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">å…³æ³¨æˆ‘ä»¬</h3>
                    <div class="flex space-x-4">
                        <a href="#" class="w-10 h-10 rounded-full bg-white/80 flex items-center justify-center text-gray-600 hover:bg-warm-peach hover:text-warm-red transition-all shadow-sm">
                            <i class="fa fa-twitter"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-white/80 flex items-center justify-center text-gray-600 hover:bg-warm-peach hover:text-warm-red transition-all shadow-sm">
                            <i class="fa fa-facebook"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-white/80 flex items-center justify-center text-gray-600 hover:bg-warm-peach hover:text-warm-red transition-all shadow-sm">
                            <i class="fa fa-instagram"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-white/80 flex items-center justify-center text-gray-600 hover:bg-warm-peach hover:text-warm-red transition-all shadow-sm">
                            <i class="fa fa-youtube-play"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div class="border-t border-warm-peach/30 mt-8 pt-8 text-center text-gray-500">
                <p>&copy; 2025 è§†é¢‘åˆ†æåŠ©æ‰‹ | ç‰ˆæƒæ‰€æœ‰</p>
            </div>
        </div>
    </footer>

    <script>
        // è¿æ¥åç«¯WebSocketæœåŠ¡
        const socket = new WebSocket("ws://localhost:8765");
        const chatContainer = document.getElementById("chatContainer");
        const userInput = document.getElementById("userInput");
        const sendButton = document.getElementById("sendButton");
        const reportTitle = document.getElementById("reportTitle");
        const categoryButtons = document.querySelectorAll(".category-btn");
        
        // æ¨¡æ‹Ÿåˆ†ç±»æ•°æ®
        const categoryData = {
            sports: { title: "ä½“è‚²è¿åŠ¨åˆ†ææŠ¥å‘Š" },
            education: { title: "æ•™è‚²å­¦ä¹ åˆ†ææŠ¥å‘Š" },
            music: { title: "éŸ³ä¹å¨±ä¹åˆ†ææŠ¥å‘Š" },
            gaming: { title: "æ¸¸æˆç”µç«åˆ†ææŠ¥å‘Š" },
            lifestyle: { title: "ç”Ÿæ´»æ–¹å¼åˆ†ææŠ¥å‘Š" },
            tech: { title: "ç§‘æŠ€æ•°ç åˆ†ææŠ¥å‘Š" }
        };
        
        // å¤„ç†åˆ†ç±»åˆ‡æ¢
        categoryButtons.forEach(button => {
            button.addEventListener("click", () => {
                // æ›´æ–°é€‰ä¸­çŠ¶æ€
                categoryButtons.forEach(btn => btn.classList.remove("active", "bg-warm-peach/30"));
                button.classList.add("active", "bg-warm-peach/30");
                
                // æ›´æ–°æŠ¥å‘Šæ ‡é¢˜
                const category = button.dataset.category;
                reportTitle.textContent = categoryData[category].title;
                
                // æ»šåŠ¨åˆ°é¡¶éƒ¨
                window.scrollTo({ top: 0, behavior: "smooth" });
            });
        });
        
        // å‘é€ç”¨æˆ·æ¶ˆæ¯
        function sendMessage() {
            const message = userInput.value.trim();
            if (!message) return;
            
            // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯åˆ°å¯¹è¯
            addMessage("user", message);
            
            // å‘é€æ¶ˆæ¯åˆ°åç«¯
            socket.send(message);
            
            // æ¸…ç©ºè¾“å…¥æ¡†
            userInput.value = "";
        }
        
        // æ·»åŠ æ¶ˆæ¯åˆ°å¯¹è¯åŒºåŸŸ
        function addMessage(type, content) {
            const messageDiv = document.createElement("div");
            messageDiv.className = "mb-4";
            
            let html = "";
            
            if (type === "user") {
                html = `
                    <div class="flex items-start justify-end">
                        <div class="bg-white/90 backdrop-blur-sm rounded-lg p-3 shadow-sm max-w-[90%]">
                            <p class="text-gray-700">${escapeHTML(content)}</p>
                        </div>
                        <div class="w-10 h-10 rounded-full bg-warm-cream flex items-center justify-center text-warm-red ml-2 shadow-sm">
                            <i class="fa fa-user"></i>
                        </div>
                    </div>
                `;
            } else if (type === "ai") {
                html = `
                    <div class="flex items-start">
                        <div class="w-10 h-10 rounded-full bg-gradient-ai flex items-center justify-center text-warm-red mr-2 shadow-sm">
                            <i class="fa fa-robot"></i>
                        </div>
                        <div class="bg-white/90 backdrop-blur-sm rounded-lg p-3 shadow-sm max-w-[90%]">
                            <p class="text-gray-700">${escapeHTML(content)}</p>
                        </div>
                    </div>
                `;
            } else if (type === "error") {
                html = `
                    <div class="flex items-start">
                        <div class="w-10 h-10 rounded-full bg-warm-peach/50 flex items-center justify-center text-warm-red mr-2 shadow-sm">
                            <i class="fa fa-exclamation-triangle"></i>
                        </div>
                        <div class="bg-white/90 backdrop-blur-sm rounded-lg p-3 shadow-sm max-w-[90%] border border-warm-peach/30">
                            <p class="text-warm-red">${escapeHTML(content)}</p>
                        </div>
                    </div>
                `;
            }
            
            messageDiv.innerHTML = html;
            chatContainer.appendChild(messageDiv);
            
            // æ»šåŠ¨åˆ°åº•éƒ¨
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }
        
        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message, type) {
            const notification = document.createElement("div");
            notification.className = `fixed top-6 right-6 px-4 py-3 rounded-lg shadow-lg z-50 transition-all duration-500 transform translate-x-full`;
            
            if (type === "success") {
                notification.classList.add("bg-warm-amber/30", "text-amber-800", "border", "border-warm-amber/50");
                notification.innerHTML = `
                    <div class="flex items-center">
                        <i class="fa fa-check-circle mr-2"></i>
                        <span>${message}</span>
                    </div>
                `;
            } else {
                notification.classList.add("bg-warm-peach/30", "text-warm-red", "border", "border-warm-peach/50");
                notification.innerHTML = `
                    <div class="flex items-center">
                        <i class="fa fa-exclamation-circle mr-2"></i>
                        <span>${message}</span>
                    </div>
                `;
            }
            
            document.body.appendChild(notification);
            
            // æ˜¾ç¤ºé€šçŸ¥
            setTimeout(() => {
                notification.classList.remove("translate-x-full");
            }, 100);
            
            // è‡ªåŠ¨å…³é—­
            setTimeout(() => {
                notification.classList.add("translate-x-full");
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 500);
            }, 5000);
        }
        
        // è½¬ä¹‰HTMLç‰¹æ®Šå­—ç¬¦
        function escapeHTML(str) {
            return str
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        }
        
        // ç»‘å®šäº‹ä»¶
        sendButton.addEventListener("click", sendMessage);
        userInput.addEventListener("keypress", (e) => {
            if (e.key === "Enter") sendMessage();
        });
        
        // WebSocketè¿æ¥å¤„ç†
        socket.onopen = () => showNotification("å·²è¿æ¥åˆ°AIåŠ©æ‰‹", "success");
        socket.onclose = () => showNotification("ä¸AIåŠ©æ‰‹çš„è¿æ¥å·²æ–­å¼€ï¼Œå°è¯•é‡æ–°è¿æ¥ä¸­...", "error");
        socket.onerror = (error) => showNotification("è¿æ¥é”™è¯¯ï¼Œè¯·æ£€æŸ¥åç«¯æœåŠ¡", "error");
        
        socket.onmessage = (event) => {
            try {
                const data = JSON.parse(event.data);
                if (data.type === "response") addMessage("ai", data.content);
                else if (data.type === "error") addMessage("error", data.content);
            } catch (e) {
                addMessage("ai", event.data);
            }
        };
        
        // å¯¼èˆªæ æ»šåŠ¨æ•ˆæœ
        window.addEventListener("scroll", () => {
            const header = document.querySelector("header");
            if (window.scrollY > 20) {
                header.classList.add("py-2", "shadow");
                header.classList.remove("py-3");
            } else {
                header.classList.add("py-3");
                header.classList.remove("py-2", "shadow");
            }
        });
    </script>
</body>
</html>